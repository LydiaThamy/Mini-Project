<!-- search bar -->
<div class="bar">
    <form [formGroup]="searchForm" #formDirective="ngForm" (ngSubmit)="searchKeyword(searchForm, formDirective)" autocomplete="on">
        <mat-form-field class="keyword">
            <mat-label>Keyword</mat-label>
            <input type="text" placeholder="Search for a business or an address" aria-label="Search" matInput
                formControlName="keyword" [matAutocomplete]="auto">
            <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
                <mat-option *ngFor="let a of autocomplete" [value]="a">
                    {{a}}
                </mat-option>
            </mat-autocomplete>
        </mat-form-field>
        
        <!-- filter -->
        <img id="filter-button" src="/assets/icons/filter.png" (click)="changeFilter()">
        <button type="submit">
            <img id="search" routerLink="/cart" [src]="over ? '/assets/icons/search.png' : '/assets/icons/search_hover.png'" (mouseover)="over = true" (mouseout)="over = false"></button>
    </form>
</div>

<div class="filter" *ngIf="openFilter == true">

    <div class="category">
        <h3>Category</h3>
        <span *ngFor="let c of categories; let i=index">
              <input type="checkbox" [id]="c + i" [value]="c" (change)="checkCategory(c)" [checked]="selectCategoryCheckbox(c)">
              <label [for]="c + i"></label>{{c}}
          </span>
    </div>

    <div class="region">
        <h3>Location</h3>
        <span *ngFor="let r of regions; let i=index">
            <input type="checkbox" [id]="r + i" [value]="r" (change)="checkRegion(r)" [checked]="selectRegionCheckbox(r)">
            <label [for]="r + i">{{r | titlecase}}</label>
          </span>
    </div>
</div>