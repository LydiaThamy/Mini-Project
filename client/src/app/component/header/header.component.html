<!-- logo -->
<app-logo></app-logo>

<!-- search bar -->
<div class="bar">
    <form [formGroup]="searchForm" #formDirective="ngForm" (ngSubmit)="searchKeyword(searchForm, formDirective)">

        <mat-form-field class="keyword">
            <mat-label>Keyword</mat-label>
            <input type="text" placeholder="Search for a business or an address" aria-label="Search" matInput
                formControlName="keyword" [matAutocomplete]="auto">
            <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
                <mat-option *ngFor="let a of autocomplete" [value]="a">
                    {{a}}
                </mat-option>
            </mat-autocomplete>
        </mat-form-field>
        
        <!-- filter -->
        <button type="button" (click)="changeFilter()">Filter</button>
        <button type="submit">Search</button>
       
        <div class="filter" *ngIf="openFilter">

            <div class="category">
                <h3>Category</h3>
                <span *ngFor="let c of categories; let i=index">
                      <input type="checkbox" [id]="c + i" [value]="c" (change)="checkCategory(c)" [checked]="selectCategoryCheckbox(c)">
                      <label [for]="c + i"></label>{{c}}
                  </span>
            </div>

            <div class="region">
                <h3>Location</h3>
                <span *ngFor="let r of regions; let i=index">
                    <input type="checkbox" [id]="r + i" [value]="r" (change)="checkRegion(r)" [checked]="selectRegionCheckbox(r)">
                    <label [for]="r + i">{{r | titlecase}}</label>
                  </span>
            </div>
        </div>


    </form>
</div>

<!-- cart -->
<p routerLink="/cart">Cart</p>

<!-- account login, create, signout -->
<app-account></app-account>
